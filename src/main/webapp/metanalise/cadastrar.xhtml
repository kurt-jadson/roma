<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:s="http://www.lassitercg.com/jsf"
	  xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/WEB-INF/templates/layout.xhtml">
		<ui:define name="conteudo">
			<div class="mensagem-snipet">
				<h:messages errorClass="alert alert-danger" globalOnly="true" />
			</div>
			<div class="page-header">
				<h1>#{i18n['metanalise.cadastro']}</h1>
			</div>

			<h:form id="metanaliseForm">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<h:outputLabel for="titulo" value="#{i18n['metanalise.titulo']}" />					
								<h:inputText id="titulo"
											 value="#{metanaliseController.metanalise.titulo}"
											 required="true"
											 requiredMessage="#{i18n['smadp.mensagens.0001']}"
											 styleClass="form-control #{not component.valid ? 'error' : ''}" />
								<h:message for="titulo" />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="form-group col-md-12">
							<s:sheet id="sheet"
									 value="#{metanaliseController.estudos}"
									 var="row"
									 height="400"
									 showRowHeaders="false">
								
								<s:column headerText="#{i18n['metanalise.numero']}" 
										  colWidth="15"
										  value="#{row.numero}"
										  sortBy="#{row.numero}"
										  sortOrder="ascending"
										  readonly="true" />
								<s:column headerText="#{i18n['metanalise.titulo']}" 
										  colWidth="60"
										  sortBy="#{row.titulo}"
										  sortOrder="ascending"
										  value="#{row.titulo}" />
								<s:column headerText="#{i18n['metanalise.autor']}" 
										  colWidth="60"
										  value="#{row.autor}"
										  sortBy="#{row.autor}"
										  sortOrder="ascending" />
								<s:column headerText="#{i18n['metanalise.tp']}" 
										  colWidth="15"
										  value="#{row.tp}"
										  sortBy="#{row.tp}"
										  sortOrder="ascending" />
								<s:column headerText="#{i18n['metanalise.tn']}" 
										  colWidth="15"
										  value="#{row.tn}"
										  sortBy="#{row.tn}"
										  sortOrder="ascending" />
								<s:column headerText="#{i18n['metanalise.fp']}" 
										  colWidth="15"
										  value="#{row.fp}"
										  sortBy="#{row.fp}"
										  sortOrder="ascending" />
								<s:column headerText="#{i18n['metanalise.fn']}" 
										  colWidth="15"
										  value="#{row.fn}"
										  sortBy="#{row.fn}"
										  sortOrder="ascending" />
								<p:ajax listener="#{metanaliseController.cellEdit}" />
							</s:sheet>
						</div>
					</div>
					<div class="row">
						<div class="col-md-1">
							<h:commandButton value="#{i18n['botao.salvar']}"
											 action="#{metanaliseController.salvar()}"
											 styleClass="btn btn-default"/>
						</div>
					</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</html>